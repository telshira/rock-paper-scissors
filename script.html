<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Rock, paper, scissors script</title>
  </head>

  <body>
    <script>
      
      function getComputerChoice() {
        // create the possible choices a computer can pick and randomly select one of the choices
        const choices = ['rock', 'paper', 'scissors'];
        return choices[Math.floor(Math.random()* choices.length)];
      }

      function playRound(playerSelection, computerSelection) {
        // if there's an input from the user, convert it all to lowercase
        if (playerSelection) {
          playerSelection = playerSelection.toLowerCase(); 
        }

        // list all the possibilities when doing rock, paper scissors, looking to see if it's a tie first. 
        if (playerSelection === computerSelection){
          return tie = `It's a tie!`;
        } else if (playerSelection === 'rock') {  // if player chooses rock
          if (computerSelection === 'scissors'){
            return win = 'You win! Rock beats scissors.';
          } else {
            return lose = 'You lose! Try again.';
          }
        } else if (playerSelection === 'paper'){  // if player chooses paper
          if (computerSelection === 'rock') {
            return win = 'You win! Paper beats rocks.';
          } else {
            return lose = 'You lose! Try again.';
            }
        } else if (playerSelection === 'scissors') { // if player choose scissors
          if (computerSelection === 'paper') {
            return win = 'You win! Scissors beat paper.';
          } else {
            return lose = 'You lose! Try again.';
          }
        } else {
          return neither = `That's not one of the choices.`;  // if player cancels or type anything other than the choices listed
        }
      }  

      // list the available outcomes
      let win;
      let lose;
      let tie;
      let neither;

      function game() {

        // listed variables to count wins, losses, ties
        let playerWin = 0;
        let playerLose = 0;
        let tieCount = 0;
        let neitherCount = 0;

        for (let i = 0; i < 5; i++) {
        const playerSelection = prompt('Pick either rock, paper or scissors.');// prompt for player's pick
        const computerSelection = getComputerChoice();// get computer choice when round starts
        console.log(playRound(playerSelection, computerSelection));
        console.log(playerSelection, computerSelection);

          // Add total for each round won, loss, tied or neither. 
          if (playRound(playerSelection, computerSelection) === win){
            playerWin++;
            console.log(playerWin);
          } else if (playRound(playerSelection, computerSelection) === lose) {
            playerLose++;
            console.log(playerLose);
          } else if (playRound(playerSelection, computerSelection) === tie){
            tieCount++;
            console.log(tieCount);
          } else {
            neitherCount++;
            console.log(neitherCount);
          }
        }
        console.log(`${playerWin} wins : ${playerLose} losses : ${tieCount} ties : ${neitherCount} not the rigt choice`);
      }

    game();

    </script>
  </body>
</html>